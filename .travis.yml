matrix:
  include:
    - language: objective-c
      script:
        - cd Demo/Projects/iOS/
        - xcodebuild -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO
    - language: android
      sudo: true
      before_install:
        #- rm -fr $HOME/android-ndk-r16b
        #- curl -L http://dl.google.com/android/repository/android-ndk-r16b-linux-x86_64.zip -O
        #- unzip -oq android-ndk-r16b-linux-x86_64.zip
        #- rm android-ndk-r16b-linux-x86_64.zip
        #- export ANDROID_NDK_HOME=`pwd`/android-ndk-r16b
        #- yes | sdkmanager --licenses
        
        - mkdir -p $ANDROID_HOME/licenses
        - echo "8933bad161af4178b1185d1a37fbf41ea5269c55" > $ANDROID_HOME/licenses/android-sdk-license
        - echo "d56f5187479451eabf01fb78af6dfcb131a6481e" >> $ANDROID_HOME/licenses/android-sdk-license
      install:
        - echo y | sdkmanager 'ndk-bundle'
        - echo y | sdkmanager 'cmake;3.6.4111459'
        - echo y | sdkmanager 'lldb;3.0'
      android:
        components:
          - tools
          - platform-tools
          - tools
          - build-tools-26.0.2
          - android-26
        licenses:
          - android-sdk-preview-license-.+
          - android-sdk-license-.+
          - google-gdk-license-.+
      script:
         - cd Demo/Projects/Android/
         - ./gradlew assembleDebug
